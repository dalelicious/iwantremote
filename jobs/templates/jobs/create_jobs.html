{% extends "main.html" %}

{% block content_additions %}

<div class="jumbotron-fluid bg-light" style="background-image: url(/static/images/community.jpg)">
	<div class="row">
		<div class="col-lg-12 text-center mt-4">
			<img src="/static/images/community.png" class="img-fluid" alt="Responsive image" width="250">
			<h3 class="mt-2 text-dark">Reach thousands of remote tech workers.</h3>
		</div>
	</div>
	<hr>
</div>

<section id="tabs" calss="project-tab">
	<div class="container">
		<div class="row justify-content-md-center">
			<div class="col-md-11">
				<div class="tab-content" id="nav-tabContent">
					<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
						<div class="container">
							<div class="card">
								<h5 class="card-header bg-dark text-white text-center">
								Create an opportunity</h5>
								<div class="card-body shadow">
									<form method="post" action="{% url 'jobs:create-job' %}" enctype="multipart/form-data">
										{% csrf_token %}
										<h6 class="required-field float-right">Required Fields <span style="color:red;">*</span></h6>
										<h4 class="card-title nav-item">Tell us about your Job</h4>
										<h6 class="card-title mt-4">Position<span style="color:red;"> *</span></h6>
										<input type="text" id="jobTitle" name="title" placeholder="e.g Software Developer" class="form-control form-control-lg col-md-12" style="background-color: #f6f6f6;" required>
										<div class="card-title mt-3 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-3">Category<span style="color:red;"> *</span></h6>
												<select id="jobCategory" name="category" class="form-control col-md-12 form-control-lg" required>
												{% for category in category_list %}
													<option value="{{category.slugCatName}}">{{category.name}}</option>
												{% endfor %}
												</select>
											</div>
											<div class="custom-control custom-checkbox">
												<h6>Job Type<span style="color:red;"> *</span></h6>
												<div class="custom-control custom-radio custom-control-inline mt-2">
													<input type="radio" id="customRadioInline1" value="Fulltime" name="job_type" class="custom-control-input" checked="checked">
													<label class="custom-control-label" for="customRadioInline1">Fulltime</label>
												</div>
												<div class="custom-control custom-radio custom-control-inline">
													<input type="radio" id="customRadioInline2" value="Contract" name="job_type" class="custom-control-input">
													<label class="custom-control-label" for="customRadioInline2">Contract</label>
												</div>
												<div class="custom-control custom-radio custom-control-inline">
													<input type="radio" id="customRadioInline3" value="Project" name="job_type" class="custom-control-input">
													<label class="custom-control-label" for="customRadioInline3">Project</label>
												</div>
											</div>
										</div>
										<div class="card-title form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Salary Range<span style="color:red;"> *</span></h6>
												<input type="text" id="jobSalary" name="salary" placeholder="e.g $40-50k/yr" class="form-control col-md-12 form-control-lg">
											</div>
										</div>
										<div class="card-title form-row">
											<div class="form-group col">
												<h6 for="card-title mt-5">Tags</h6>
												<input id="form-tags-1" name="tags">
											</div>
										</div>
										<div class="card-title mt-4 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Headquarters<span style="color:red;"> *</span></h6>
												<input type="text" name="headquarters" class="form-control col-md-12 form-control-lg" required>
												<p class="text-muted">Example: "AU, Sydney", "US, Chicago"</p>
											</div>
											<div class="form-group col-md-6">
												<h6>Regional Restrictions <span style="color:red;"> *</span></h6>
												<input id="jobRegion" type="text" name="region" class="form-control form-control-lg" required>
												<p class="text-muted">Example: “US Citizen Only”, “US or EU Only”, “Anywhere”</p>
											</div>
										</div>
										<h6 class="card-title" >Apply Link<span style="color:red;"> *</span></h6>
										<input type="text" name="link" class="form-control form-control-lg col-md-12" style="background: #f6f6f6" required>
										<p class="text-muted">Example: https://mybusiness.com/careers/apply or mailto:jobs@mail.com</p>
										<h6 class="card-title mt-5">Job Description<span style="color:red;"> *</span>
										<a href ='/job_template/' class="float-right" target="_blank">Need a template?</a></h6>
										<textarea id="jobDescription" name="job_description" class="myTextEditor" rows="6"></textarea>

										<h4 class="card-title nav-item mt-5">Tell us about your Company</h4>

										<h6 class="card-title mt-4">Name<span style="color:red;"> *</span></h6>
										<input type="text" name="company_name" class="form-control form-control-lg col-md-12" style="background: #f6f6f6" required>
										<p class="text-muted">Enter your company or organization’s name.</p>
										<h6 class="card-title mt-5">Company Description<span style="color:red;"> *</span></h6>
										<textarea name="company_description" class="myTextEditor" rows="6"></textarea>
										<br>
										<h6 for="card-title">Company Logo<span style="color:red;"> *</span></h6>
										<div class="custom-file">
											<input id="customFile" type="file" name="logo" class="custom-file-input" required>
											<label class="custom-file-label text-center form-control form-control-lg" for="customFile" style="background: #f6f6f6"> Upload Logo </label>
											<p class="text-muted mt-2">It’s highly recommended to use your Twitter or Facebook avatar.</p>
										</div>
										<div class="form-group mt-5">
											<h6>Tagline</h6>
											<input type="text" name="tagline" class="form-control form-control-lg">
										</div>
										<div class="card-title mt-5 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Company Website<span style="color:red;"> *</span></h6>
												<input type="text" name="website" class="form-control form-control-lg col-md-12" required>
												<p class="text-muted mt-2">Only put your domain, for Example: boboyinc.com</p>
											</div>
											<div class="form-group col-md-6">
												<h6>Email<span style="color:red;"> *</span></h6>
												<input type="email" name="email" class="form-control form-control-lg">
											</div>
										</div>
										<div class="card-title text-center">
											<div class="col-md-12">
												<img src="/static/images/highlight.PNG" class="img-fluid" alt="Responsive image">
												<input type="checkbox" id="is_featured" name="featured"> Highlight your post for  <span class="text-bold">FREE </span>
											</div>
										</div>
										<button type="submit" name="create" class="float-right btn btn-sm btn-danger mt-3">Submit Post</button>
									</form>
										<button class="btn-sm btn btn-success mt-3" onclick="displayRadioValue()" id="page-button" data-toggle="modal" data-target="#myModal">Preview Post</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<div class="container mt-5 text-center">
  <div class="row">
    <div class="col-sm">
      <img src="/static/images/google.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 100px">
    </div>
    <div class="col-sm">
      <img src="/static/images/amazon.png" class="iopct opacity-70 mg-fluid" alt="Responsive image" style="max-width: 120px">
    </div>
    <div class="col-sm">
      <img src="/static/images/github.png" class="opct opacity-70 img-fluid" alt="Responsive image" style="max-width: 70px">
    </div>
    <div class="col-sm">
      <img src="/static/images/stack.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 120px">
    </div>
    <div class="col-sm mb-5">
      <img src="/static/images/shopify.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 100px">		
    </div>
    <div class="col-sm mb-5">
      <img src="/static/images/wordpress.png" class="opct opacity-70 img-fluid mt-2" alt="Responsive image" style="max-width: 120px">		
    </div>
  </div>
</div>

<div class="modal hide fade text-left" tabindex="-1" role="dialog" id="myModal" aria-labelledby="myModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-dark text-white">
                <h4 class="modal-title" id="myModalLabel1">Job Preview</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: white;">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success btn-sm" data-dismiss="modal">Done preview</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block page_vendor_js_additions %}

<script type="text/javascript">
	
	$("#is_featured").click(function () {
	    if ($(this).prop("checked")) {
	        $("#is_featured").val("True");
	    }
	    else {
	        $("#is_featured").val("False");
	    }
	});

	$('input.job_type').on('change', function() {
		$('input.job_type').not(this).prop('checked', false);
	});

	$(document).ready(function () {
		var d = new Date();
		var month = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"][d.getMonth()]
		var strDate = month + " " + d.getDate();
		var jobTypeval = "";

		$('#page-button').click(function () {

			var ele = document.getElementsByName('job_type');
			for(i = 0; i < ele.length; i++) {
				if(ele[i].checked){
					jobTypeval = ele[i].value;
				}
			}

			var jobCreateDate = strDate;
			var jobTitle = $('#jobTitle').val();
			var jobCategory = $('#jobCategory').val();
			var jobType = jobTypeval;
			var jobSalary = $('#jobSalary').val();
			var jobTags = $('#form-tags-1').val();
			var newjobTags = jobTags.replace(/,/g, ' ');
			var jobRegion = $('#jobRegion').val();
			var jobDescription = tinyMCE.get('jobDescription').getContent();

			$('.modal-body').html(
				"<div class='container'>"+
					"<div class='card mt-5 border-0'>"+
						"<h6 class='card-header bg-white border-0 text-muted ml-2 mb-3'>Posted "+jobCreateDate+"</h6>"+
						"<div class='card-body border-0 ml-2'>"+
							"<img src='/static/images/logo-default.png' class='float-right' alt='Responsive image' style='max-width: 150px;'>"+
							"<h2>"+jobTitle+"</h2>"+
							"<u><p class='card-title nav-item text-dark-50 mt-3'>"+jobType+" "+(jobRegion)+"</p></u>"+
							"<p class='card-title nav-item text-dark-50'>Salary: "+jobSalary+"</p>"+
							"<p class='card-title nav-item text-dark-50'>Category: "+jobCategory+"</p>"+
							"<img src='/static/assets/vendor/iconic/png/tags-2x.png'>"+
							"<p class='badge badge-light'>"+newjobTags+"</p>"+
							"<div class='row'>"+
								"<div class='col'><hr></div>"+
								"<div class='col-auto'>"+
									"<button type='button' class='mb-2 btn btn-danger btn-md rounded'>Apply for this Position</button>"+
								"</div>"+
								"<div class='col'><hr></div>"+
							"</div>"+
							"<p class='card-text mr-5'>"+jobDescription+"</p>"+
							"<div class='container justify-content-md-center'></div>"+
							"<div class='col-auto'>"+
								"<button type='button' class='mt-3 float-right btn btn-danger btn-md rounded'>Apply now</button>"+
							"</div>"+
						"</div>"+
					"</div>"+
				"</div>"
			);
		});
	});

</script>

{% endblock %}

