{% extends "main.html" %}

{% block content_additions %}

<div class="jumbotron-fluid bg-light" style="background-image: url(/static/images/community.jpg)">
	<div class="row">
		<div class="col-lg-12 text-center mb-1 mt-5">
			<img src="/static/images/community.png" class="img-fluid" alt="Responsive image" width="250">
			<h3 class="mt-2 text-dark">Reach thousands of remote tech workers.</h3>
		</div>
	</div>
	<hr>
</div>

<section id="tabs" calss="project-tab">
	<div class="container">
		<div class="row justify-content-md-center">
			<div class="col-md-11">
				<div class="tab-content" id="nav-tabContent">
					<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
						<div class="container">
							<div class="card">
								<h5 class="card-header bg-dark text-white text-center">
								Step 1. Create a Job</h5>
								<div class="card-body shadow">
									<form method="post" action="{% url 'jobs:create-job' %}" enctype="multipart/form-data">
										{% csrf_token %}
										<h6 class="required-field float-right">Required Fields <span style="color:red;">*</span></h6>
										<h4 class="card-title nav-item">Tell us about your job</h4>
										<h6 class="card-title mt-4">Position<span style="color:red;"> *</span></h6>
										<input type="text" id="jobTitle" name="title" placeholder="e.g Software Engineer" class="form-control form-control-lg col-md-12" style="background-color: #f6f6f6;">
										<div class="card-title mt-3 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-3">Category<span style="color:red;"> *</span></h6>
												<select id="jobCategory" name="category" class="form-control col-md-12 form-control-lg">
												{% for category in category_list %}
													<option value="{{category.slugCatName}}">{{category.name}}</option>
												{% endfor %}
												</select>
											</div>
											<div class="custom-control custom-checkbox">
												<h6>Job Type<span style="color:red;"> *</span></h6>
												<div class="custom-control custom-radio custom-control-inline mt-2">
													<input type="radio" id="customRadioInline1" value="Fulltime" name="job_type" class="custom-control-input">
													<label class="custom-control-label" for="customRadioInline1">Fulltime</label>
												</div>
												<div class="custom-control custom-radio custom-control-inline">
													<input type="radio" id="customRadioInline2" value="Contract" name="job_type" class="custom-control-input">
													<label class="custom-control-label" for="customRadioInline2">Contract</label>
												</div>
												<div class="custom-control custom-radio custom-control-inline">
													<input type="radio" id="customRadioInline3" value="Project" name="job_type" class="custom-control-input">
													<label class="custom-control-label" for="customRadioInline3">Project</label>
												</div>
											</div>
										</div>
										<div class="card-title form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Salary Range<span style="color:red;"> *</span></h6>
												<input type="text" id="jobSalary" name="salary" placeholder="e.g $40-50k/yr" class="form-control col-md-12 form-control-lg">
											</div>
										</div>
										<div class="card-title form-row">
											<div class="form-group col">
												<h6 for="card-title mt-5">Tags</h6>
												<input id="form-tags-1" name="tags" class="form-control form-control-lg">
											</div>
										</div>
										<div class="card-title mt-4 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Headquarters<span style="color:red;"> *</span></h6>
												<input id="jobHeadquarters" type="text" name="headquarters" class="form-control col-md-12 form-control-lg">
												<p class="text-muted">Location of your company</p>
											</div>
											<div class="form-group col-md-6">
												<h6>Regional Restrictions <span style="color:red;"> *</span></h6>
												<input id="jobRegion" type="text" name="region" class="form-control form-control-lg">
												<p class="text-muted">Example: “North America Only”,   “P.S.T. Only”</p>
											</div>
										</div>
										<h6 class="card-title" >Apply Link<span style="color:red;">*</span></h6>
										<input id="jobLink" type="text" name="link" class="form-control form-control-lg col-md-12" style="background: #f6f6f6">
										<p class="text-muted">Example: https://mybusiness.com/careers/apply or employee@email.com</p>
										<h6 class="card-title mt-5">Job Description<span style="color:red;"> *</span>
										<a href ='/job_template/' class="float-right" target="_blank">Need a template?</a></h6>
										<textarea id="jobDescription" name="job_description" class="myTextEditor" rows="6"></textarea>

										<h4 class="card-title nav-item mt-5">Tell us about your Company</h4>

										<h6 class="card-title mt-4">Name<span style="color:red;"> *</span></h6>
										<input id="jobCompany" type="text" name="company_name" class="form-control form-control-lg col-md-12" style="background: #f6f6f6">
										<p class="text-muted">Enter your company or organization’s name.</p>
										<h6 class="card-title mt-5">Company Description<span style="color:red;"> *</span></h6>
										<textarea id="jobCompDescription" name="company_description" class="myTextEditor" rows="6"></textarea>
										<br>
										<h6 for="card-title">Company Logo<span style="color:red;"> *</span></h6>
										<div class="custom-file">
											<input id="customFile" type="file" name="logo" class="custom-file-input">
											<label class="custom-file-label text-center form-control form-control-lg" for="customFile" style="background: #f6f6f6"> Upload Logo </label>
											<p class="text-muted mt-2">It’s highly recommended to use your Twitter or Facebook avatar.</p>
										</div>
										<div class="form-group mt-5">
											<h6>Tagline</h6>
											<input id="jobCompTagline" type="text" name="tagline" class="form-control form-control-lg">
										</div>
										<div class="card-title mt-5 form-row">
											<div class="form-group col-md-6">
												<h6 for="card-title mt-5">Company Website<span style="color:red;"> *</span></h6>
												<input id="jobCompWebsite" type="text" name="website" class="form-control form-control-lg col-md-12">
											</div>
											<div class="form-group col-md-6">
												<h6>Email<span style="color:red;"> *</span></h6>
												<input id="jobCompEmail" type="email" name="email" class="form-control form-control-lg" required>
											</div>
										</div>
										<div class="card-body rounded" style="padding-top: 50px">
											<div class="row">
												<h5 class="col-md-12 alert alert-success text-center text-dark">Get more visibility! Be at our top and #1 featured category and get highlighted!</h5>
											</div>
										</div>
										<div class="card-title text-center">
											<div class="col-md-12">
												<img src="/static/images/highlight.png" class="img-fluid" alt="Responsive image">
												<input type="checkbox" id="is_featured" name="featured"> Feature this job for <span class="badge badge-pill badge-primary">$29 only.</span>
											</div>
										</div>
										<button type="submit" name="create" class="btn btn-md btn-danger mt-3">Submit Job Post</button>
									</form>
										<button class="btn-md btn btn-danger mt-3" onclick="displayRadioValue()" id="page-button" data-toggle="modal" data-target="#myModal">Preview Job Post</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<div class="container mt-5 text-center">
  <div class="row">
    <div class="col-sm">
      <img src="/static/images/google.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 100px">
    </div>
    <div class="col-sm">
      <img src="/static/images/amazon.png" class="iopct opacity-70 mg-fluid" alt="Responsive image" style="max-width: 120px">
    </div>
    <div class="col-sm">
      <img src="/static/images/github.png" class="opct opacity-70 img-fluid" alt="Responsive image" style="max-width: 70px">
    </div>
    <div class="col-sm">
      <img src="/static/images/stack.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 120px">
    </div>
    <div class="col-sm mb-5">
      <img src="/static/images/shopify.png" class="opct opacity-70 img-fluid mt-4" alt="Responsive image" style="max-width: 100px">		
    </div>
    <div class="col-sm mb-5">
      <img src="/static/images/wordpress.png" class="opct opacity-70 img-fluid mt-2" alt="Responsive image" style="max-width: 120px">		
    </div>
  </div>
</div>

<div class="modal hide fade text-left" tabindex="-1" role="dialog" id="myModal" aria-labelledby="myModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-dark text-white">
                <h4 class="modal-title" id="myModalLabel1">Step 2. Job Preview</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: white;">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Go Back</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block page_vendor_js_additions %}

<script type="text/javascript">
	
	$("#is_featured").click(function () {
	    if ($(this).prop("checked")) {
	        $("#is_featured").val("True");
	    }
	    else {
	        $("#is_featured").val("False");
	    }
	});

	$('input.job_type').on('change', function() {
		$('input.job_type').not(this).prop('checked', false);
	});

	$(document).ready(function () {
		var d = new Date();
		var strDate = d.getFullYear() + "/" + (d.getMonth()+1) + "/" + d.getDate();
		var jobTypeval = "";

		$('#page-button').click(function () {

			var ele = document.getElementsByName('job_type');
			for(i = 0; i < ele.length; i++) {
				if(ele[i].checked){
					jobTypeval = ele[i].value;
				}
			}

			var jobCreateDate = strDate;
			var jobTitle = $('#jobTitle').val();
			var jobCategory = $('#jobCategory').val();
			var jobType = jobTypeval;
			var jobSalary = $('#jobSalary').val();
			var jobTags = $('#form-tags-1').val();
			var jobHeadquarters = $('#jobHeadquarters').val();
			var jobRegion = $('#jobRegion').val();
			var jobLink = $('#jobLink').val();
			var jobDescription = tinyMCE.get('jobDescription').getContent();
			var jobCompany = $('#jobCompany').val();
			var jobCompDescription = tinyMCE.get('jobCompDescription').getContent();
			var jobCompLogo = $('#customFile').val();
			var jobCompWebsite = $('#jobCompWebsite').val();
			var jobCompEmail = $('#jobCompEmail').val();
			$('.modal-body').html("<p> Posted: "+jobCreateDate+"</p>"+"<br>"+
								  "<h2>"+jobTitle+"</h2>"+"<input type='hidden' value='"+jobTitle+"'/>"+"<br>"+
								   "<p>"+"<u>"+jobType+" "+"("+jobRegion+")"+"</u>"+"</p>"+"<input type='hidden' value='"+jobType+"'/>"+
								   "<p>Salary: "+jobSalary+"</p>"+"<input type='hidden' value='"+jobSalary+"'/>"+
								  "<p>Category: "+jobCategory+"</p>"+"<input type='hidden' value='"+jobCategory+"'/>"+
								  "<p>Tags: "+jobTags+"</p>"+"<input type='hidden' value='"+jobTags+"'/>"+
								  "<p>Headquarters: "+jobHeadquarters+"</p>"+"<input type='hidden' value='"+jobHeadquarters+"'/>"+
								  "<p>Candidate Restrictions: "+jobRegion+"</p>"+"<input type='hidden' value='"+jobRegion+"'/>"+
								  "<p>Apply Link: "+jobLink+"</p>"+"<input type='hidden' value='"+jobLink+"'/>"+"<hr>"+
								  "<p>"+jobDescription+"</p>"+"<input type='hidden' value='"+jobDescription+"'/>"+"<br>"+"<hr>"+
								  "<p>"+jobCompany+"</p>"+"<input type='hidden' value='"+jobCompany+"'/>"+
								  "<p>"+jobCompDescription+"</p>"+"<input type='hidden' value='"+jobCompDescription+"'/>"+
								  "<p>"+jobCompLogo+"</p>"+"<img src='"+jobCompLogo+"'>"+								  
								  "<p>"+jobCompWebsite+"</p>"+"<input type='hidden' value='"+jobCompWebsite+"'/>"+
								  "<p>"+jobCompEmail+"</p>"+"<input type='hidden' value='"+jobCompEmail+"'/>");
		});
	});

</script>

{% endblock %}

